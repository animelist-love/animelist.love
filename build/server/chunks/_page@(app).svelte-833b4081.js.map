{"version":3,"file":"_page@(app).svelte-833b4081.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(app)/character/_urlCharacter_/_page@(app).svelte.js"],"sourcesContent":["import { c as create_ssr_component, b as subscribe, o as onDestroy, a as add_styles, v as validate_component, e as escape, d as each, n as noop } from \"../../../../../chunks/index2.js\";\nimport { p as page } from \"../../../../../chunks/stores.js\";\nimport { g as getID, f as fetchPOST } from \"../../../../../chunks/index4.js\";\nimport { h as aniListDescriptionRewrite, i as aniListQueryCharacter, b as aniListEndPoint } from \"../../../../../chunks/aniList.js\";\nimport { c as createInfiniteQuery } from \"../../../../../chunks/createInfiniteQuery.js\";\nimport { I as Image } from \"../../../../../chunks/Image.js\";\nimport { T as TabBase } from \"../../../../../chunks/TabBase.js\";\nimport { C as CharacterCard } from \"../../../../../chunks/CharacterCard.js\";\nimport { T as TimelineCardSkeleton } from \"../../../../../chunks/TimelineCardSkeleton.js\";\nconst Page_app = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let characterDetail;\n  let $characterDetail, $$unsubscribe_characterDetail = noop, $$subscribe_characterDetail = () => ($$unsubscribe_characterDetail(), $$unsubscribe_characterDetail = subscribe(characterDetail, ($$value) => $characterDetail = $$value), characterDetail);\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  const tabsItems = [\n    {\n      key: \"about\",\n      path: \"about\",\n      name: \"About\",\n      isActive: true\n    },\n    {\n      key: \"media\",\n      path: \"anime-manga\",\n      name: \"Anime/Manga\",\n      isActive: false\n    }\n  ];\n  let currentTab = tabsItems.find((e) => e.isActive)?.key;\n  let urlCharacter = $page.params.urlCharacter;\n  const characterID = getID(urlCharacter);\n  const characterQueryVariables = {\n    id: characterID,\n    sort: [\"POPULARITY_DESC\"]\n  };\n  onDestroy(() => {\n  });\n  $$subscribe_characterDetail(characterDetail = createInfiniteQuery(\n    [\"character\", characterID],\n    ({ pageParam = 1 }) => {\n      const data = fetchPOST(aniListEndPoint, {\n        query: aniListQueryCharacter,\n        variables: {\n          ...characterQueryVariables,\n          page: pageParam\n        }\n      });\n      return data;\n    },\n    {\n      getNextPageParam: (lastPage) => {\n        if (lastPage.data?.Character?.media?.pageInfo?.hasNextPage)\n          return lastPage.data?.Character?.media?.pageInfo?.currentPage + 1;\n        else\n          return void 0;\n      }\n    }\n  ));\n  $$unsubscribe_characterDetail();\n  $$unsubscribe_page();\n  return `<div class=\"w-full mt-20 mb-6 relative\">${$characterDetail.isSuccess ? `\n    <div class=\"fixed inset-0 blur-3xl bg-cover bg-center bg-no-repeat opacity-10 -z-10\"${add_styles({\n    \"background-image\": `url(\"${$characterDetail?.data?.pages[0].data.Character.image.large}\")`\n  })}></div>\n    <div class=\"w-full xl:max-w-5xl 3xl:max-w-6xl flex flex-col lg:flex-row gap-6 p-4 mx-auto\"><div class=\"w-52 h-52 shrink-0 mx-auto rounded-full overflow-hidden\">${validate_component(Image, \"Image\").$$render(\n    $$result,\n    {\n      src: $characterDetail?.data?.pages[0].data.Character.image.large,\n      alt: $characterDetail?.data?.pages[0].data.Character.name.userPreferred\n    },\n    {},\n    {}\n  )}</div>\n      <div class=\"w-full flex flex-col gap-6 lg:mt-4 overflow-hidden\"><div class=\"w-full flex flex-col items-center lg:items-start gap-y-2\"><h1 class=\"text-2xl md:text-4xl font-bold font-lexenddeca max-w-full break-words\">${escape($characterDetail?.data?.pages[0].data.Character.name.userPreferred)}</h1>\n          <div class=\"text-sm md:text-base\">${$characterDetail?.data?.pages[0].data.Character.name.native ? `<span class=\"last:after:content-[''] after:content-[',_']\">${escape($characterDetail?.data?.pages[0].data.Character.name.native)}</span>` : ``}\n            ${each($characterDetail?.data?.pages[0].data.Character.name.alternative, (alternative) => {\n    return `<span class=\"last:after:content-[''] after:content-[',_']\">${escape(alternative)}</span>`;\n  })}\n            ${each($characterDetail?.data?.pages[0].data.Character.name.alternativeSpoiler, (alternativeSpoiler) => {\n    return `<span class=\"last:after:content-[''] after:content-[',_'] font-medium\">${escape(alternativeSpoiler)}</span>`;\n  })}</div></div>\n\n        <div class=\"sticky top-14 z-10\">${validate_component(TabBase, \"TabBase\").$$render(\n    $$result,\n    {\n      items: tabsItems,\n      isSuccess: true,\n      align: \"left\",\n      rounded: true\n    },\n    {},\n    {}\n  )}</div>\n\n        \n        \n        <div class=\"${[\"flex flex-col\", currentTab !== \"about\" ? \"hidden\" : \"\"].join(\" \").trim()}\"><div><span class=\"mr-2\">Favourites:</span>${escape($characterDetail?.data?.pages[0].data.Character.favourites)}</div>\n          ${$characterDetail?.data?.pages[0].data.Character.dateOfBirth.month ? `<div><span class=\"mr-2\">Birthday:</span>${escape($characterDetail?.data?.pages[0].data.Character.dateOfBirth.day)}/${escape($characterDetail?.data?.pages[0].data.Character.dateOfBirth.month)}</div>` : ``}\n          ${$characterDetail?.data?.pages[0].data.Character.age ? `<div><span class=\"mr-2\">Age:</span>${escape($characterDetail?.data?.pages[0].data.Character.age)}</div>` : ``}\n          ${$characterDetail?.data?.pages[0].data.Character.gender ? `<div><span class=\"mr-2\">Gender:</span>${escape($characterDetail?.data?.pages[0].data.Character.gender)}</div>` : ``}\n          <!-- HTML_TAG_START -->${aniListDescriptionRewrite($characterDetail?.data?.pages[0].data.Character.description)}<!-- HTML_TAG_END --></div>\n        \n        <div class=\"${[\n    \"flex flex-col gap-2 overflow-hidden\",\n    currentTab !== \"media\" ? \"hidden\" : \"\"\n  ].join(\" \").trim()}\">${each($characterDetail?.data?.pages, (page2) => {\n    return `${each(page2.data.Character.media.edges, (media) => {\n      return `${validate_component(CharacterCard, \"CharacterCard\").$$render($$result, { source: media }, {}, {})}`;\n    })}`;\n  })}\n          \n          ${$characterDetail.isLoading || $characterDetail.isFetching || $characterDetail.isFetchingNextPage ? `<div class=\"w-full flex flex-col gap-2\">${each(Array(3), (noUse) => {\n    return `${validate_component(TimelineCardSkeleton, \"TimelineCardSkeleton\").$$render($$result, {}, {}, {})}`;\n  })}</div>` : `${$characterDetail.hasNextPage ? `<div class=\"w-full my-20\"></div>` : `<div class=\"w-full text-center my-20\">Không còn kết quả nào!</div>`}`}</div></div></div>` : `<div class=\"w-full xl:max-w-5xl 3xl:max-w-6xl flex flex-col lg:flex-row gap-6 p-4 mx-auto animate-pulse\"><div class=\"w-52 h-52 shrink-0 mx-auto rounded-full bg-neutral-800\"></div>\n      <div class=\"w-full flex flex-col gap-6 lg:mt-4\"><div class=\"flex flex-col items-center lg:items-start gap-y-2\"><div class=\"w-60 h-6 bg-neutral-800 rounded\"></div>\n          <div class=\"w-20 h-4 bg-neutral-800 rounded\"></div></div>\n        <div class=\"w-full h-12 rounded bg-neutral-800\"></div>\n        <div class=\"w-full h-28 rounded bg-neutral-800\"></div></div></div>`}</div>`;\n});\nexport {\n  Page_app as default\n};\n"],"names":[],"mappings":"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"}