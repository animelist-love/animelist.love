import{S as tt,i as lt,s as rt,G as Qt,k as _,a as N,l as p,m as h,c as S,h as c,n as f,T as D,b as V,L as u,H as Yt,I as Wt,J as Ft,g as $,d as T,O as ie,o as Ct,P as W,Q as F,U as et,E as qt,w as Gt,e as G,v as Ve,f as De,a4 as Jt,a0 as Xt,C as ke,D as Rt,y as Z,z as ee,A as te,B as le,q as Ee,r as Ie,a6 as Kt,W as Ze,u as Re,F as kt,X as je,Y as Oe,V as Se,p as Vt}from"./index.28a8b093.js";import{d as Zt,f as jt,a as oe,t as el}from"./index.f1452f32.js";import{c as Ot}from"./createQuery.5564b7c8.js";import{c as Ut,b as Ht}from"./aniList.16789991.js";import{f as Ue}from"./index.6e5fca10.js";import{o as Dt}from"./onMediaDetailsModal.79cd5933.js";import{a as at,d as st,b as $t,i as tl}from"./UserSettingStore.4034ccb9.js";import{C as He}from"./CardVertical.36f9358d.js";import{I as ll}from"./Image.1cf0f7e3.js";function xt(n){let t,r,a,l,s,e,i,o,d,w;return{c(){t=_("div"),r=_("button"),a=W("svg"),l=W("path"),s=N(),e=_("button"),i=W("svg"),o=W("path"),this.h()},l(b){t=p(b,"DIV",{class:!0});var E=h(t);r=p(E,"BUTTON",{class:!0});var I=h(r);a=F(I,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var x=h(a);l=F(x,"path",{d:!0}),h(l).forEach(c),x.forEach(c),I.forEach(c),s=S(E),e=p(E,"BUTTON",{class:!0});var v=h(e);i=F(v,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,class:!0});var m=h(i);o=F(m,"path",{d:!0}),h(o).forEach(c),m.forEach(c),v.forEach(c),E.forEach(c),this.h()},h(){f(l,"d","M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"),f(a,"xmlns","http://www.w3.org/2000/svg"),f(a,"width","24"),f(a,"height","24"),f(a,"viewBox","0 0 24 24"),f(a,"class","w-6 h-6 fill-current"),f(r,"class","block p-1 lg:p-2 rounded-full bg-neutral-900/80 lg:hover:bg-neutral-800 z-10"),D(r,"opacity-60",!n[3]),D(r,"cursor-not-allowed",!n[3]),f(o,"d","M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"),f(i,"xmlns","http://www.w3.org/2000/svg"),f(i,"width","24"),f(i,"height","24"),f(i,"viewBox","0 0 24 24"),f(i,"class","w-6 h-6 fill-current"),f(e,"class","block p-1 lg:p-2 rounded-full bg-neutral-900/80 lg:hover:bg-neutral-800 z-10"),D(e,"opacity-60",!n[2]),D(e,"cursor-not-allowed",!n[2]),f(t,"class","absolute flex gap-x-2 right-2 md:right-4 -top-8 lg:-top-9")},m(b,E){V(b,t,E),u(t,r),u(r,a),u(a,l),u(t,s),u(t,e),u(e,i),u(i,o),d||(w=[et(r,"click",n[10]),et(e,"click",n[11])],d=!0)},p(b,E){E&8&&D(r,"opacity-60",!b[3]),E&8&&D(r,"cursor-not-allowed",!b[3]),E&4&&D(e,"opacity-60",!b[2]),E&4&&D(e,"cursor-not-allowed",!b[2])},d(b){b&&c(t),d=!1,qt(w)}}}function rl(n){let t,r,a,l,s=n[0]&&!n[5]&&xt(n);const e=n[9].default,i=Qt(e,n,n[8],null);return{c(){t=_("div"),s&&s.c(),r=N(),a=_("div"),i&&i.c(),this.h()},l(o){t=p(o,"DIV",{class:!0});var d=h(t);s&&s.l(d),r=S(d),a=p(d,"DIV",{class:!0});var w=h(a);i&&i.l(w),w.forEach(c),d.forEach(c),this.h()},h(){f(a,"class","flex flex-row w-full overflow-x-auto snap-x scrollbar-none"),f(t,"class","flex justify-center py-2.5 lg:py-4 relative"),D(t,"lg:pl-8",n[4])},m(o,d){V(o,t,d),s&&s.m(t,null),u(t,r),u(t,a),i&&i.m(a,null),n[12](a),l=!0},p(o,[d]){o[0]&&!o[5]?s?s.p(o,d):(s=xt(o),s.c(),s.m(t,r)):s&&(s.d(1),s=null),i&&i.p&&(!l||d&256)&&Yt(i,e,o,o[8],l?Ft(e,o[8],d,null):Wt(o[8]),null),(!l||d&16)&&D(t,"lg:pl-8",o[4])},i(o){l||($(i,o),l=!0)},o(o){T(i,o),l=!1},d(o){o&&c(t),s&&s.d(),i&&i.d(o),n[12](null)}}}function al(n,t,r){let a,l;ie(n,at,m=>r(4,a=m)),ie(n,st,m=>r(5,l=m));let{$$slots:s={},$$scope:e}=t,{isSuccess:i=!1}=t,{isNavigation:o=!1}=t,d,w=!0,b=!1;const E=m=>{var y,z,L,C;if(!(!b&&m!=="next"||!w&&m==="next")&&d.querySelector('[isView="1"]')){if(((y=d.querySelector('[isView="1"]'))==null?void 0:y.getAttribute("data-index"))==="1"&&m!=="next")return;const U=d.childElementCount,j=d.querySelectorAll('[isView="1"]').length-1,B=parseInt((z=d.querySelector('[isView="1"]'))==null?void 0:z.getAttribute("data-index")),O=B+j;if(O>=U&&m==="next")return;const k=O+j;m==="next"?U>k?(r(3,b=!0),r(2,w=!0),(L=d.querySelector(`[data-index="${k}"]`))==null||L.scrollIntoView({behavior:"smooth",block:"nearest",inline:"end"})):(r(3,b=!0),r(2,w=!1),d.scrollBy({behavior:"smooth",left:d.scrollWidth})):B>j+1?(r(3,b=!0),r(2,w=!0),(C=d.querySelector(`[data-index="${B-j}"]`))==null||C.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})):(r(3,b=!1),r(2,w=!0),d.scrollBy({behavior:"smooth",left:-d.scrollWidth}))}};Ct(()=>{i&&Array.from(d.children).forEach((m,y)=>{m.setAttribute("data-index",(y+1).toString()),Zt(m)})});const I=()=>E("previus"),x=()=>E("next");function v(m){Gt[m?"unshift":"push"](()=>{d=m,r(1,d)})}return n.$$set=m=>{"isSuccess"in m&&r(7,i=m.isSuccess),"isNavigation"in m&&r(0,o=m.isNavigation),"$$scope"in m&&r(8,e=m.$$scope)},[o,d,w,b,a,l,E,i,e,s,I,x,v]}class Qe extends tt{constructor(t){super(),lt(this,t,al,rl,rt,{isSuccess:7,isNavigation:0})}}function yt(n,t,r){const a=n.slice();return a[17]=t[r],a}function Nt(n,t,r){const a=n.slice();return a[11]=t[r],a[13]=r,a}function St(n,t,r){const a=n.slice();return a[14]=t[r],a}function sl(n){let t,r,a,l,s,e,i,o,d,w,b,E,I,x,v,m,y,z,L,C,U,j,B,O;return B=new Qe({props:{$$slots:{default:[ol]},$$scope:{ctx:n}}}),{c(){t=_("div"),r=_("div"),a=_("div"),l=_("div"),s=N(),e=_("div"),i=N(),o=_("div"),d=_("div"),w=_("div"),b=_("div"),E=_("div"),I=N(),x=_("div"),v=N(),m=_("div"),y=_("div"),z=N(),L=_("div"),C=_("div"),U=_("div"),j=N(),Z(B.$$.fragment),this.h()},l(k){t=p(k,"DIV",{class:!0});var M=h(t);r=p(M,"DIV",{class:!0});var q=h(r);a=p(q,"DIV",{class:!0});var Y=h(a);l=p(Y,"DIV",{class:!0}),h(l).forEach(c),s=S(Y),e=p(Y,"DIV",{class:!0}),h(e).forEach(c),i=S(Y),o=p(Y,"DIV",{class:!0});var re=h(o);d=p(re,"DIV",{class:!0});var me=h(d);w=p(me,"DIV",{class:!0});var H=h(w);b=p(H,"DIV",{class:!0});var ge=h(b);E=p(ge,"DIV",{class:!0}),h(E).forEach(c),ge.forEach(c),I=S(H),x=p(H,"DIV",{class:!0}),h(x).forEach(c),v=S(H),m=p(H,"DIV",{class:!0});var ne=h(m);y=p(ne,"DIV",{class:!0}),h(y).forEach(c),ne.forEach(c),H.forEach(c),me.forEach(c),re.forEach(c),Y.forEach(c),q.forEach(c),M.forEach(c),z=S(k),L=p(k,"DIV",{class:!0});var ce=h(L);C=p(ce,"DIV",{class:!0});var ve=h(C);U=p(ve,"DIV",{class:!0}),h(U).forEach(c),ve.forEach(c),ce.forEach(c),j=S(k),ee(B.$$.fragment,k),this.h()},h(){f(l,"class","w-full h-full -bottom-0.5 absolute bg-gradient-to-t from-background via-transparent to-transparent"),f(e,"class","w-2/3 h-full hidden lg:block absolute left-0 bg-gradient-to-r from-background via-background/80 to-transparent"),f(E,"class","w-44 bg-neutral-800 h-8 rounded"),f(b,"class","flex justify-center lg:justify-start lg:mb-2"),f(x,"class","w-full md:w-2/3 mx-auto lg:mx-0 bg-neutral-800 h-4 rounded"),f(y,"class","w-1/2 bg-neutral-800 h-4 rounded"),f(m,"class","hidden lg:flex flex-col gap-2 overflow-hidden"),f(w,"class","flex flex-col-reverse lg:flex-col gap-y-6"),f(d,"class","flex flex-col lg:space-x-8 mt-2"),f(o,"class","w-full lg:w-2/3 3xl:w-2/4 absolute -bottom-20 lg:bottom-10 px-4 lg:pl-8"),f(a,"class","w-full h-full"),f(r,"class","w-full lg:bg-neutral-800 aspect-w-12 aspect-h-14 md:aspect-w-16 md:aspect-h-7 xl:aspect-w-14 xl:aspect-h-5 lg:overflow-hidden mb-12 lg:mb-0 transition-[border-radius] duration-300"),f(t,"class","flex w-full pb-2 transition-[padding,border-radius] duration-300 mb-12"),f(U,"class","h-8 w-44 rounded bg-neutral-800 animate-pulse"),f(C,"class","flex mr-12"),f(L,"class","flex items-center px-2 md:px-6 lg:px-8 text-white")},m(k,M){V(k,t,M),u(t,r),u(r,a),u(a,l),u(a,s),u(a,e),u(a,i),u(a,o),u(o,d),u(d,w),u(w,b),u(b,E),u(w,I),u(w,x),u(w,v),u(w,m),u(m,y),V(k,z,M),V(k,L,M),u(L,C),u(C,U),V(k,j,M),te(B,k,M),O=!0},p(k,M){const q={};M&1048704&&(q.$$scope={dirty:M,ctx:k}),B.$set(q)},i(k){O||($(B.$$.fragment,k),O=!0)},o(k){T(B.$$.fragment,k),O=!1},d(k){k&&c(t),k&&c(z),k&&c(L),k&&c(j),le(B,k)}}}function il(n){var nt,ct;let t,r,a,l,s,e,i,o,d,w,b,E,I,x,v,m,y,z,L,C=n[0]==="ANIME"?"Phát":"Đọc",U,j,B,O,k,M,q,Y,re,me,H,ge,ne,ce,ve,ae,_e,$e=(n[3].title.english||n[3].title.userPreferred)+"",Pe,Ye,fe,Te,We,Me,ue,pe,xe,be,Fe,Le,de,se,Ge,J,Je,it;l=new ll({props:{src:n[5]?n[3].coverImage.extraLarge||n[3].coverImage.large:n[3].bannerImage||n[3].coverImage.extraLarge||n[3].coverImage.large,alt:((nt=n[3].title)==null?void 0:nt.userPreferred)||((ct=n[3].name)==null?void 0:ct.userPreferred)}});function ot(g,P){return g[0]==="ANIME"?cl:nl}let Ae=ot(n),X=Ae(n),we=n[3].genres,A=[];for(let g=0;g<we.length;g+=1)A[g]=Tt(St(n,we,g));return se=new Qe({props:{isNavigation:!0,isSuccess:!0,$$slots:{default:[fl]},$$scope:{ctx:n}}}),{c(){t=_("div"),r=_("div"),a=_("div"),Z(l.$$.fragment),s=N(),e=_("div"),i=_("div"),o=N(),d=_("div"),w=N(),b=_("div"),E=_("div"),I=_("div"),x=_("div"),v=_("div"),m=_("a"),y=_("button"),X.c(),z=N(),L=_("span"),U=Ee(C),B=N(),O=_("div"),k=_("a"),M=_("button"),q=W("svg"),Y=W("path"),re=W("path"),me=N(),H=_("span"),ge=Ee("Thông tin"),ve=N(),ae=_("div"),_e=_("h1"),Pe=Ee($e),Ye=N(),fe=_("div");for(let g=0;g<A.length;g+=1)A[g].c();Me=N(),ue=_("div"),pe=_("div"),xe=_("div"),be=_("h2"),Fe=Ee("Hiện đang thịnh hành"),Le=N(),de=_("div"),Z(se.$$.fragment),this.h()},l(g){t=p(g,"DIV",{class:!0});var P=h(t);r=p(P,"DIV",{class:!0});var Q=h(r);a=p(Q,"DIV",{class:!0});var ye=h(a);ee(l.$$.fragment,ye),ye.forEach(c),s=S(Q),e=p(Q,"DIV",{class:!0});var K=h(e);i=p(K,"DIV",{class:!0}),h(i).forEach(c),o=S(K),d=p(K,"DIV",{class:!0}),h(d).forEach(c),w=S(K),b=p(K,"DIV",{class:!0});var Ne=h(b);E=p(Ne,"DIV",{class:!0});var R=h(E);I=p(R,"DIV",{class:!0});var he=h(I);x=p(he,"DIV",{class:!0});var Be=h(x);v=p(Be,"DIV",{class:!0});var ft=h(v);m=p(ft,"A",{href:!0});var ut=h(m);y=p(ut,"BUTTON",{class:!0});var ze=h(y);X.l(ze),z=S(ze),L=p(ze,"SPAN",{class:!0});var dt=h(L);U=Ie(dt,C),dt.forEach(c),ze.forEach(c),ut.forEach(c),ft.forEach(c),B=S(Be),O=p(Be,"DIV",{class:!0});var ht=h(O);k=p(ht,"A",{href:!0});var mt=h(k);M=p(mt,"BUTTON",{class:!0});var Ce=h(M);q=F(Ce,"svg",{xmlns:!0,viewBox:!0,class:!0});var Xe=h(q);Y=F(Xe,"path",{d:!0}),h(Y).forEach(c),re=F(Xe,"path",{d:!0}),h(re).forEach(c),Xe.forEach(c),me=S(Ce),H=p(Ce,"SPAN",{class:!0});var gt=h(H);ge=Ie(gt,"Thông tin"),gt.forEach(c),Ce.forEach(c),mt.forEach(c),ht.forEach(c),Be.forEach(c),ve=S(he),ae=p(he,"DIV",{class:!0});var qe=h(ae);_e=p(qe,"H1",{class:!0});var vt=h(_e);Pe=Ie(vt,$e),vt.forEach(c),Ye=S(qe),fe=p(qe,"DIV",{class:!0});var _t=h(fe);for(let Ke=0;Ke<A.length;Ke+=1)A[Ke].l(_t);_t.forEach(c),qe.forEach(c),he.forEach(c),R.forEach(c),Ne.forEach(c),K.forEach(c),Q.forEach(c),P.forEach(c),Me=S(g),ue=p(g,"DIV",{class:!0});var pt=h(ue);pe=p(pt,"DIV",{class:!0});var bt=h(pe);xe=p(bt,"DIV",{});var wt=h(xe);be=p(wt,"H2",{class:!0});var Et=h(be);Fe=Ie(Et,"Hiện đang thịnh hành"),Et.forEach(c),wt.forEach(c),bt.forEach(c),pt.forEach(c),Le=S(g),de=p(g,"DIV",{});var It=h(de);ee(se.$$.fragment,It),It.forEach(c),this.h()},h(){f(a,"class","w-full h-full"),D(a,"opacity-40",!n[3].bannerImage&&!n[5]),f(i,"class","w-full h-full -bottom-0.5 absolute bg-gradient-to-t from-background via-transparent to-transparent"),f(d,"class","w-full h-full hidden lg:block absolute left-0 bg-gradient-to-r from-background via-transparent to-transparent"),f(L,"class","ml-2 3xl:text-lg"),f(y,"class","drop-shadow-xl bg-neutral-100 py-1.5 3xl:py-2 px-4 lg:px-6 text-black font-bold font-lexenddeca rounded-md inline-flex items-center transition-opacity duration-300 hover:opacity-80"),f(m,"href",j=`/${n[3].type.toLowerCase()}/${n[3].type==="ANIME"?"view":"read"}/123412/${oe(n[3].title.userPreferred)}-an${n[3].id}`),f(v,"class","view"),f(Y,"d","M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"),f(re,"d","M11 11h2v6h-2zm0-4h2v2h-2z"),f(q,"xmlns","http://www.w3.org/2000/svg"),f(q,"viewBox","0 0 24 24"),f(q,"class","fill-current w-6 h-6 3xl:w-7 3xl:h-7"),f(H,"class","ml-2 3xl:text-lg"),f(M,"class","drop-shadow-xl bg-neutral-800/60 lg:bg-neutral-400/60 py-1.5 px-4 3xl:py-2 rounded-md inline-flex items-center transition-opacity duration-300 hover:opacity-80"),f(k,"href",ne=`/${n[3].type.toLowerCase()}/details/${oe(n[3].title.userPreferred)}-an${n[3].id}`),f(O,"class","actions"),f(x,"class","flex justify-center items-center lg:justify-start gap-x-4 actions lg:mb-2"),f(_e,"class","text-xl md:text-3xl 3xl:text-5xl !leading-tight text-center lg:text-left font-bold font-lexenddeca line-clamp-2 text-shadow-sm"),f(fe,"class","mt-2 lg:mt-4 flex flex-wrap gap-2 lg:gap-3 items-center justify-center lg:justify-start text-xs md:text-lg lg:text-base 3xl:text-lg"),f(ae,"class","title"),f(I,"class","flex flex-col-reverse lg:flex-col gap-y-6 lg:gap-y-6"),f(E,"class","flex flex-col lg:space-x-8 mt-2"),f(b,"class","w-full lg:w-2/3 3xl:w-2/4 absolute -bottom-20 lg:bottom-10 px-4 lg:pl-8"),f(e,"class","w-full h-full"),f(r,"class","w-full aspect-w-12 aspect-h-14 md:aspect-w-16 md:aspect-h-7 xl:aspect-w-14 xl:aspect-h-5 lg:overflow-hidden mb-12 lg:mb-0 cursor-pointer transition-[border-radius] duration-300"),f(t,"class","flex w-full pb-2 transition-[padding,border-radius] duration-300 mb-12"),f(be,"class","text-lg md:text-xl lg:text-2xl 3xl:text-3xl font-bold font-lexenddeca"),f(pe,"class","flex mr-12"),f(ue,"class","flex items-center px-2 md:px-6 lg:px-8 text-white")},m(g,P){V(g,t,P),u(t,r),u(r,a),te(l,a,null),u(r,s),u(r,e),u(e,i),u(e,o),u(e,d),u(e,w),u(e,b),u(b,E),u(E,I),u(I,x),u(x,v),u(v,m),u(m,y),X.m(y,null),u(y,z),u(y,L),u(L,U),u(x,B),u(x,O),u(O,k),u(k,M),u(M,q),u(q,Y),u(q,re),u(M,me),u(M,H),u(H,ge),u(I,ve),u(I,ae),u(ae,_e),u(_e,Pe),u(ae,Ye),u(ae,fe);for(let Q=0;Q<A.length;Q+=1)A[Q]&&A[Q].m(fe,null);V(g,Me,P),V(g,ue,P),u(ue,pe),u(pe,xe),u(xe,be),u(be,Fe),V(g,Le,P),V(g,de,P),te(se,de,null),J=!0,Je||(it=[et(m,"click",Kt(dl)),Ze(ce=Dt.call(null,k,{id:n[3].id,image:n[3].coverImage.extraLarge||n[3].coverImage.large,name:n[3].title.userPreferred})),Ze(Te=Dt.call(null,r,{id:n[3].id,image:n[3].coverImage.extraLarge||n[3].coverImage.large,name:n[3].title.userPreferred})),Ze(el.call(null,t))],Je=!0)},p(g,P){var K,Ne;const Q={};if(P&40&&(Q.src=g[5]?g[3].coverImage.extraLarge||g[3].coverImage.large:g[3].bannerImage||g[3].coverImage.extraLarge||g[3].coverImage.large),P&8&&(Q.alt=((K=g[3].title)==null?void 0:K.userPreferred)||((Ne=g[3].name)==null?void 0:Ne.userPreferred)),l.$set(Q),(!J||P&40)&&D(a,"opacity-40",!g[3].bannerImage&&!g[5]),Ae!==(Ae=ot(g))&&(X.d(1),X=Ae(g),X&&(X.c(),X.m(y,z))),(!J||P&1)&&C!==(C=g[0]==="ANIME"?"Phát":"Đọc")&&Re(U,C),(!J||P&8&&j!==(j=`/${g[3].type.toLowerCase()}/${g[3].type==="ANIME"?"view":"read"}/123412/${oe(g[3].title.userPreferred)}-an${g[3].id}`))&&f(m,"href",j),(!J||P&8&&ne!==(ne=`/${g[3].type.toLowerCase()}/details/${oe(g[3].title.userPreferred)}-an${g[3].id}`))&&f(k,"href",ne),ce&&kt(ce.update)&&P&8&&ce.update.call(null,{id:g[3].id,image:g[3].coverImage.extraLarge||g[3].coverImage.large,name:g[3].title.userPreferred}),(!J||P&8)&&$e!==($e=(g[3].title.english||g[3].title.userPreferred)+"")&&Re(Pe,$e),P&8){we=g[3].genres;let R;for(R=0;R<we.length;R+=1){const he=St(g,we,R);A[R]?A[R].p(he,P):(A[R]=Tt(he),A[R].c(),A[R].m(fe,null))}for(;R<A.length;R+=1)A[R].d(1);A.length=we.length}Te&&kt(Te.update)&&P&8&&Te.update.call(null,{id:g[3].id,image:g[3].coverImage.extraLarge||g[3].coverImage.large,name:g[3].title.userPreferred});const ye={};P&1048770&&(ye.$$scope={dirty:P,ctx:g}),se.$set(ye)},i(g){J||($(l.$$.fragment,g),We||je(()=>{We=Oe(t,Ue,{}),We.start()}),$(se.$$.fragment,g),Ge||je(()=>{Ge=Oe(de,Ue,{}),Ge.start()}),J=!0)},o(g){T(l.$$.fragment,g),T(se.$$.fragment,g),J=!1},d(g){g&&c(t),le(l),X.d(),Se(A,g),g&&c(Me),g&&c(ue),g&&c(Le),g&&c(de),le(se),Je=!1,qt(it)}}}function Pt(n){let t,r,a,l;return r=new He({}),{c(){t=_("div"),Z(r.$$.fragment),a=N(),this.h()},l(s){t=p(s,"DIV",{class:!0});var e=h(t);ee(r.$$.fragment,e),a=S(e),e.forEach(c),this.h()},h(){f(t,"class","w-100/29 md:w-1/5 lg:w-1/6 2xl:w-1/7 4xl:w-1/8 first:ml-2 md:first:ml-6 lg:first:ml-8 mr-2 sm:mr-2.5 md:mr-2 lg:md:mr-3 2xl:mr-3 3xl:mr-4 4xl:mr-5 shrink-0"),D(t,"lg:first:!ml-0",n[7])},m(s,e){V(s,t,e),te(r,t,null),u(t,a),l=!0},p(s,e){(!l||e&128)&&D(t,"lg:first:!ml-0",s[7])},i(s){l||($(r.$$.fragment,s),l=!0)},o(s){T(r.$$.fragment,s),l=!1},d(s){s&&c(t),le(r)}}}function ol(n){let t,r,a=Array(4),l=[];for(let e=0;e<a.length;e+=1)l[e]=Pt(yt(n,a,e));const s=e=>T(l[e],1,1,()=>{l[e]=null});return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=G()},l(e){for(let i=0;i<l.length;i+=1)l[i].l(e);t=G()},m(e,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,i);V(e,t,i),r=!0},p(e,i){if(i&128){a=Array(4);let o;for(o=0;o<a.length;o+=1){const d=yt(e,a,o);l[o]?(l[o].p(d,i),$(l[o],1)):(l[o]=Pt(d),l[o].c(),$(l[o],1),l[o].m(t.parentNode,t))}for(Ve(),o=a.length;o<l.length;o+=1)s(o);De()}},i(e){if(!r){for(let i=0;i<a.length;i+=1)$(l[i]);r=!0}},o(e){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)T(l[i]);r=!1},d(e){Se(l,e),e&&c(t)}}}function nl(n){let t,r,a;return{c(){t=W("svg"),r=W("g"),a=W("path"),this.h()},l(l){t=F(l,"svg",{viewBox:!0,class:!0});var s=h(t);r=F(s,"g",{"fill-rule":!0,transform:!0});var e=h(r);a=F(e,"path",{d:!0}),h(a).forEach(c),e.forEach(c),s.forEach(c),this.h()},h(){f(a,"d","M457 368.832a.5.5 0 0 0 .883.323l1.12-1.332a.876.876 0 0 1 .679-.323h3.522a2.793 2.793 0 0 0 2.796-2.784v-10.931a2.793 2.793 0 0 0-2.796-2.785h-3.454a2.75 2.75 0 0 0-2.75 2.75v15.082zm-1.5 0a.5.5 0 0 1-.883.323l-1.12-1.332a.876.876 0 0 0-.679-.323h-3.522a2.793 2.793 0 0 1-2.796-2.784v-10.931a2.793 2.793 0 0 1 2.796-2.785h3.454a2.75 2.75 0 0 1 2.75 2.75v15.082z"),f(r,"fill-rule","evenodd"),f(r,"transform","translate(-446 -350)"),f(t,"viewBox","0 0 20 20"),f(t,"class","fill-current w-6 h-6 3xl:w-7 3xl:h-7 scale-90")},m(l,s){V(l,t,s),u(t,r),u(r,a)},d(l){l&&c(t)}}}function cl(n){let t,r;return{c(){t=W("svg"),r=W("path"),this.h()},l(a){t=F(a,"svg",{xmlns:!0,viewBox:!0,class:!0});var l=h(t);r=F(l,"path",{d:!0}),h(r).forEach(c),l.forEach(c),this.h()},h(){f(r,"d","M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"viewBox","0 0 24 24"),f(t,"class","fill-current w-6 h-6 3xl:w-7 3xl:h-7")},m(a,l){V(a,t,l),u(t,r)},d(a){a&&c(t)}}}function Tt(n){let t,r=n[14]+"",a,l,s;return{c(){t=_("span"),a=Ee(r),l=N(),s=_("span"),this.h()},l(e){t=p(e,"SPAN",{});var i=h(t);a=Ie(i,r),i.forEach(c),l=S(e),s=p(e,"SPAN",{class:!0}),h(s).forEach(c),this.h()},h(){var e;f(s,"class","w-1 h-1 rounded-full bg-neutral-500 opacity-60 last:hidden"),Vt(s,"background-color",(e=n[3].coverImage)==null?void 0:e.color)},m(e,i){V(e,t,i),u(t,a),V(e,l,i),V(e,s,i)},p(e,i){var o;i&8&&r!==(r=e[14]+"")&&Re(a,r),i&8&&Vt(s,"background-color",(o=e[3].coverImage)==null?void 0:o.color)},d(e){e&&c(t),e&&c(l),e&&c(s)}}}function Mt(n){let t,r,a,l;return r=new He({props:{isLoading:!1,source:n[11],to:`/${n[11].type.toLowerCase()}/details/${oe(n[11].title.userPreferred)}-an${n[11].id}`}}),{c(){t=_("div"),Z(r.$$.fragment),a=N(),this.h()},l(s){t=p(s,"DIV",{class:!0});var e=h(t);ee(r.$$.fragment,e),a=S(e),e.forEach(c),this.h()},h(){f(t,"class","w-100/29 md:w-1/5 lg:w-1/6 2xl:w-1/7 4xl:w-1/8 first:ml-2 md:first:ml-6 lg:first:ml-8 mr-2 sm:mr-2.5 md:mr-2 lg:md:mr-3 2xl:mr-3 3xl:mr-4 4xl:mr-5 shrink-0"),D(t,"snap-start",!n[6]&&n[7]),D(t,"snap-end",!n[6]&&!n[7]),D(t,"lg:first:!ml-0",n[7])},m(s,e){V(s,t,e),te(r,t,null),u(t,a),l=!0},p(s,e){const i={};e&2&&(i.source=s[11]),e&2&&(i.to=`/${s[11].type.toLowerCase()}/details/${oe(s[11].title.userPreferred)}-an${s[11].id}`),r.$set(i),(!l||e&192)&&D(t,"snap-start",!s[6]&&s[7]),(!l||e&192)&&D(t,"snap-end",!s[6]&&!s[7]),(!l||e&128)&&D(t,"lg:first:!ml-0",s[7])},i(s){l||($(r.$$.fragment,s),l=!0)},o(s){T(r.$$.fragment,s),l=!1},d(s){s&&c(t),le(r)}}}function fl(n){let t,r,a=n[1],l=[];for(let e=0;e<a.length;e+=1)l[e]=Mt(Nt(n,a,e));const s=e=>T(l[e],1,1,()=>{l[e]=null});return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=G()},l(e){for(let i=0;i<l.length;i+=1)l[i].l(e);t=G()},m(e,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,i);V(e,t,i),r=!0},p(e,i){if(i&194){a=e[1];let o;for(o=0;o<a.length;o+=1){const d=Nt(e,a,o);l[o]?(l[o].p(d,i),$(l[o],1)):(l[o]=Mt(d),l[o].c(),$(l[o],1),l[o].m(t.parentNode,t))}for(Ve(),o=a.length;o<l.length;o+=1)s(o);De()}},i(e){if(!r){for(let i=0;i<a.length;i+=1)$(l[i]);r=!0}},o(e){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)T(l[i]);r=!1},d(e){Se(l,e),e&&c(t)}}}function ul(n){let t,r,a,l;const s=[il,sl],e=[];function i(o,d){return o[2].isSuccess?0:o[2].isLoading?1:-1}return~(t=i(n))&&(r=e[t]=s[t](n)),{c(){r&&r.c(),a=G()},l(o){r&&r.l(o),a=G()},m(o,d){~t&&e[t].m(o,d),V(o,a,d),l=!0},p(o,[d]){let w=t;t=i(o),t===w?~t&&e[t].p(o,d):(r&&(Ve(),T(e[w],1,1,()=>{e[w]=null}),De()),~t?(r=e[t],r?r.p(o,d):(r=e[t]=s[t](o),r.c()),$(r,1),r.m(a.parentNode,a)):r=null)},i(o){l||($(r),l=!0)},o(o){T(r),l=!1},d(o){~t&&e[t].d(o),o&&c(a)}}}const dl=()=>{};function hl(n,t,r){let a,l,s,e,i=ke,o=()=>(i(),i=Rt(a,m=>r(2,e=m)),a),d,w,b,E;ie(n,$t,m=>r(8,d=m)),ie(n,tl,m=>r(5,w=m)),ie(n,st,m=>r(6,b=m)),ie(n,at,m=>r(7,E=m)),n.$$.on_destroy.push(()=>i());let{type:I="ANIME"}=t;const x=Jt(),v={type:I,sort:["TRENDING_DESC","POPULARITY_DESC"],status_not_in:["NOT_YET_RELEASED"],perPage:20};return Ct(()=>{setTimeout(()=>{window.scrollY<200&&Xt($t,d=!0,d)},0),x("isSuccess",e==null?void 0:e.isSuccess)}),n.$$set=m=>{"type"in m&&r(0,I=m.type)},n.$$.update=()=>{n.$$.dirty&1&&o(r(4,a=Ot(["trending",I],()=>jt(Ht,{query:Ut,variables:v})))),n.$$.dirty&4&&r(1,l=e.data?[...e.data.data.Page.media]:[]),n.$$.dirty&2&&r(3,s=l.splice(Math.floor(Math.random()*l.length),1)[0]),n.$$.dirty&4&&e.isSuccess&&x("isSuccess",!0)},[I,l,e,s,a,w,b,E]}class Pl extends tt{constructor(t){super(),lt(this,t,hl,ul,rt,{type:0})}}function Lt(n,t,r){const a=n.slice();return a[13]=t[r],a}function At(n,t,r){const a=n.slice();return a[10]=t[r],a[12]=r,a}function ml(n){let t;return{c(){t=_("div"),this.h()},l(r){t=p(r,"DIV",{class:!0}),h(t).forEach(c),this.h()},h(){f(t,"class","h-8 w-44 rounded bg-neutral-800 animate-pulse")},m(r,a){V(r,t,a)},p:ke,i:ke,o:ke,d(r){r&&c(t)}}}function gl(n){let t,r,a,l,s;return{c(){t=_("div"),r=_("div"),a=_("h2"),l=Ee(n[0]),this.h()},l(e){t=p(e,"DIV",{class:!0});var i=h(t);r=p(i,"DIV",{});var o=h(r);a=p(o,"H2",{class:!0});var d=h(a);l=Ie(d,n[0]),d.forEach(c),o.forEach(c),i.forEach(c),this.h()},h(){f(a,"class","text-lg md:text-xl lg:text-2xl 3xl:text-3xl font-bold font-lexenddeca"),f(t,"class","flex w-full justify-between")},m(e,i){V(e,t,i),u(t,r),u(r,a),u(a,l)},p(e,i){i&1&&Re(l,e[0])},i(e){s||je(()=>{s=Oe(t,Ue,{}),s.start()})},o:ke,d(e){e&&c(t)}}}function vl(n){let t,r;return t=new Qe({props:{$$slots:{default:[pl]},$$scope:{ctx:n}}}),{c(){Z(t.$$.fragment)},l(a){ee(t.$$.fragment,a)},m(a,l){te(t,a,l),r=!0},p(a,l){const s={};l&65570&&(s.$$scope={dirty:l,ctx:a}),t.$set(s)},i(a){r||($(t.$$.fragment,a),r=!0)},o(a){T(t.$$.fragment,a),r=!1},d(a){le(t,a)}}}function _l(n){let t,r,a,l;return r=new Qe({props:{isNavigation:!0,isSuccess:!0,$$slots:{default:[bl]},$$scope:{ctx:n}}}),{c(){t=_("div"),Z(r.$$.fragment)},l(s){t=p(s,"DIV",{});var e=h(t);ee(r.$$.fragment,e),e.forEach(c)},m(s,e){V(s,t,e),te(r,t,null),l=!0},p(s,e){const i={};e&65594&&(i.$$scope={dirty:e,ctx:s}),r.$set(i)},i(s){l||($(r.$$.fragment,s),a||je(()=>{a=Oe(t,Ue,{}),a.start()}),l=!0)},o(s){T(r.$$.fragment,s),l=!1},d(s){s&&c(t),le(r)}}}function Bt(n){let t,r,a,l;return r=new He({props:{isRank:n[1]}}),{c(){t=_("div"),Z(r.$$.fragment),a=N(),this.h()},l(s){t=p(s,"DIV",{class:!0});var e=h(t);ee(r.$$.fragment,e),a=S(e),e.forEach(c),this.h()},h(){f(t,"class","w-100/29 md:w-1/5 lg:w-1/6 2xl:w-1/7 4xl:w-1/8 first:ml-2 md:first:ml-6 lg:first:ml-8 mr-2 sm:mr-2.5 md:mr-2 lg:md:mr-3 2xl:mr-3 3xl:mr-4 4xl:mr-5 shrink-0"),D(t,"lg:first:!ml-0",n[5])},m(s,e){V(s,t,e),te(r,t,null),u(t,a),l=!0},p(s,e){const i={};e&2&&(i.isRank=s[1]),r.$set(i),(!l||e&32)&&D(t,"lg:first:!ml-0",s[5])},i(s){l||($(r.$$.fragment,s),l=!0)},o(s){T(r.$$.fragment,s),l=!1},d(s){s&&c(t),le(r)}}}function pl(n){let t,r,a=Array(4),l=[];for(let e=0;e<a.length;e+=1)l[e]=Bt(Lt(n,a,e));const s=e=>T(l[e],1,1,()=>{l[e]=null});return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=G()},l(e){for(let i=0;i<l.length;i+=1)l[i].l(e);t=G()},m(e,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,i);V(e,t,i),r=!0},p(e,i){if(i&34){a=Array(4);let o;for(o=0;o<a.length;o+=1){const d=Lt(e,a,o);l[o]?(l[o].p(d,i),$(l[o],1)):(l[o]=Bt(d),l[o].c(),$(l[o],1),l[o].m(t.parentNode,t))}for(Ve(),o=a.length;o<l.length;o+=1)s(o);De()}},i(e){if(!r){for(let i=0;i<a.length;i+=1)$(l[i]);r=!0}},o(e){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)T(l[i]);r=!1},d(e){Se(l,e),e&&c(t)}}}function zt(n){let t,r,a,l;return r=new He({props:{index:n[12]+1,isLoading:!1,isRank:n[1],source:n[10],to:`/${n[10].type.toLowerCase()}/details/${oe(n[10].title.userPreferred)}-an${n[10].id}`}}),{c(){t=_("div"),Z(r.$$.fragment),a=N(),this.h()},l(s){t=p(s,"DIV",{class:!0});var e=h(t);ee(r.$$.fragment,e),a=S(e),e.forEach(c),this.h()},h(){f(t,"class","w-100/29 md:w-1/5 lg:w-1/6 2xl:w-1/7 4xl:w-1/8 first:ml-2 md:first:ml-6 lg:first:ml-8 mr-2 sm:mr-2.5 md:mr-2 lg:md:mr-3 2xl:mr-3 3xl:mr-4 4xl:mr-5 shrink-0"),D(t,"snap-start",!n[4]&&n[5]),D(t,"snap-end",!n[4]&&!n[5]),D(t,"lg:first:!ml-0",n[5])},m(s,e){V(s,t,e),te(r,t,null),u(t,a),l=!0},p(s,e){const i={};e&2&&(i.isRank=s[1]),e&8&&(i.source=s[10]),e&8&&(i.to=`/${s[10].type.toLowerCase()}/details/${oe(s[10].title.userPreferred)}-an${s[10].id}`),r.$set(i),(!l||e&48)&&D(t,"snap-start",!s[4]&&s[5]),(!l||e&48)&&D(t,"snap-end",!s[4]&&!s[5]),(!l||e&32)&&D(t,"lg:first:!ml-0",s[5])},i(s){l||($(r.$$.fragment,s),l=!0)},o(s){T(r.$$.fragment,s),l=!1},d(s){s&&c(t),le(r)}}}function bl(n){let t,r,a=n[3].data.data.Page.media,l=[];for(let e=0;e<a.length;e+=1)l[e]=zt(At(n,a,e));const s=e=>T(l[e],1,1,()=>{l[e]=null});return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=G()},l(e){for(let i=0;i<l.length;i+=1)l[i].l(e);t=G()},m(e,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,i);V(e,t,i),r=!0},p(e,i){if(i&58){a=e[3].data.data.Page.media;let o;for(o=0;o<a.length;o+=1){const d=At(e,a,o);l[o]?(l[o].p(d,i),$(l[o],1)):(l[o]=zt(d),l[o].c(),$(l[o],1),l[o].m(t.parentNode,t))}for(Ve(),o=a.length;o<l.length;o+=1)s(o);De()}},i(e){if(!r){for(let i=0;i<a.length;i+=1)$(l[i]);r=!0}},o(e){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)T(l[i]);r=!1},d(e){Se(l,e),e&&c(t)}}}function wl(n){let t,r,a,l,s,e,i,o;function d(v,m){return v[3].isSuccess?gl:ml}let w=d(n),b=w(n);const E=[_l,vl],I=[];function x(v,m){return v[3].isSuccess?0:v[3].isLoading?1:-1}return~(s=x(n))&&(e=I[s]=E[s](n)),{c(){t=_("div"),r=_("div"),a=_("div"),b.c(),l=N(),e&&e.c(),i=G(),this.h()},l(v){t=p(v,"DIV",{class:!0});var m=h(t);r=p(m,"DIV",{class:!0});var y=h(r);a=p(y,"DIV",{class:!0});var z=h(a);b.l(z),z.forEach(c),y.forEach(c),m.forEach(c),l=S(v),e&&e.l(v),i=G(),this.h()},h(){f(a,"class","flex w-full mr-12"),D(a,"-mb-2",n[1]),f(r,"class","flex items-center px-2 md:px-6 lg:px-8 text-white"),f(t,"class","flex flex-col mt-2 lg:mt-8")},m(v,m){V(v,t,m),u(t,r),u(r,a),b.m(a,null),V(v,l,m),~s&&I[s].m(v,m),V(v,i,m),o=!0},p(v,[m]){w===(w=d(v))&&b?b.p(v,m):(b.d(1),b=w(v),b&&(b.c(),$(b,1),b.m(a,null))),(!o||m&2)&&D(a,"-mb-2",v[1]);let y=s;s=x(v),s===y?~s&&I[s].p(v,m):(e&&(Ve(),T(I[y],1,1,()=>{I[y]=null}),De()),~s?(e=I[s],e?e.p(v,m):(e=I[s]=E[s](v),e.c()),$(e,1),e.m(i.parentNode,i)):e=null)},i(v){o||($(b),$(e),o=!0)},o(v){T(e),o=!1},d(v){v&&c(t),b.d(),v&&c(l),~s&&I[s].d(v),v&&c(i)}}}function El(n,t,r){let a,l,s=ke,e=()=>(s(),s=Rt(a,v=>r(3,l=v)),a),i,o;ie(n,st,v=>r(4,i=v)),ie(n,at,v=>r(5,o=v)),n.$$.on_destroy.push(()=>s());let{name:d=""}=t,{id:w=""}=t,{type:b="ANIME"}=t,{isRank:E=!1}=t,{queryVariables:I={sort:["UPDATED_AT_DESC"],perPage:9}}=t;const x={type:b,...I};return n.$$set=v=>{"name"in v&&r(0,d=v.name),"id"in v&&r(6,w=v.id),"type"in v&&r(7,b=v.type),"isRank"in v&&r(1,E=v.isRank),"queryVariables"in v&&r(8,I=v.queryVariables)},n.$$.update=()=>{n.$$.dirty&192&&e(r(2,a=Ot([w,b],()=>jt(Ht,{query:Ut,variables:x}))))},[d,E,a,l,i,o,w,b,I]}class Tl extends tt{constructor(t){super(),lt(this,t,El,wl,rt,{name:0,id:6,type:7,isRank:1,queryVariables:8})}}export{Tl as L,Qe as S,Pl as T};
