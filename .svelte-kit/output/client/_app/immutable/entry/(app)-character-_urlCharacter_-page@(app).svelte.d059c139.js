import{S as qa,i as za,s as Ha,k as g,l as m,m as p,h as d,n as k,b as q,d as M,f as De,g as L,O as Ka,o as Qa,K as Ga,v as Ie,C as j,D as Ma,a as S,c as x,L as f,y as Ve,q as O,_ as Ra,z as Pe,r as F,$ as Ya,p as wa,T as Ee,A as Ae,u as ae,X as Ua,Y as Xa,B as Se,V as pe,e as Ea}from"../chunks/index.28a8b093.js";import{p as ja}from"../chunks/stores.d60c0cff.js";import{g as Ja,b as Wa,f as Za,i as et}from"../chunks/index.f1452f32.js";import{h as at,b as tt,i as Da}from"../chunks/aniList.16789991.js";import{c as lt}from"../chunks/createInfiniteQuery.54db7b9a.js";import{f as rt}from"../chunks/index.6e5fca10.js";import{I as st}from"../chunks/Image.1cf0f7e3.js";import{T as nt}from"../chunks/TabBase.6989e5a8.js";import{C as it}from"../chunks/CharacterCard.021b54e3.js";import{T as ct}from"../chunks/TimelineCardSkeleton.b3cba383.js";function ot(o,e,l){const t=o.slice();return t[10]=e[l],t}function Ia(o,e,l){const t=o.slice();return t[13]=e[l],t}function Va(o,e,l){const t=o.slice();return t[16]=e[l],t}function Pa(o,e,l){const t=o.slice();return t[19]=e[l],t}function Aa(o,e,l){const t=o.slice();return t[22]=e[l],t}function ft(o){let e,l,t,a,s,i,c,n,h,v,I,z;return{c(){e=g("div"),l=g("div"),t=S(),a=g("div"),s=g("div"),i=g("div"),c=S(),n=g("div"),h=S(),v=g("div"),I=S(),z=g("div"),this.h()},l(b){e=m(b,"DIV",{class:!0});var C=p(e);l=m(C,"DIV",{class:!0}),p(l).forEach(d),t=x(C),a=m(C,"DIV",{class:!0});var V=p(a);s=m(V,"DIV",{class:!0});var $=p(s);i=m($,"DIV",{class:!0}),p(i).forEach(d),c=x($),n=m($,"DIV",{class:!0}),p(n).forEach(d),$.forEach(d),h=x(V),v=m(V,"DIV",{class:!0}),p(v).forEach(d),I=x(V),z=m(V,"DIV",{class:!0}),p(z).forEach(d),V.forEach(d),C.forEach(d),this.h()},h(){k(l,"class","w-52 h-52 shrink-0 mx-auto rounded-full bg-neutral-800"),k(i,"class","w-60 h-6 bg-neutral-800 rounded"),k(n,"class","w-20 h-4 bg-neutral-800 rounded"),k(s,"class","flex flex-col items-center lg:items-start gap-y-2"),k(v,"class","w-full h-12 rounded bg-neutral-800"),k(z,"class","w-full h-28 rounded bg-neutral-800"),k(a,"class","w-full flex flex-col gap-6 lg:mt-4"),k(e,"class","w-full xl:max-w-5xl 3xl:max-w-6xl flex flex-col lg:flex-row gap-6 p-4 mx-auto animate-pulse")},m(b,C){q(b,e,C),f(e,l),f(e,t),f(e,a),f(a,s),f(s,i),f(s,c),f(s,n),f(a,h),f(a,v),f(a,I),f(a,z)},p:j,i:j,o:j,d(b){b&&d(e)}}}function dt(o){var Le,Oe,Fe,qe,ze,He,Ke,Qe,Ge,Me,Re,Ye,Ue,Xe,je,Je,We,Ze,ea,aa,ta,la,ra,sa;let e,l,t,a,s,i,c,n,h,v=((Oe=(Le=o[2])==null?void 0:Le.data)==null?void 0:Oe.pages[0].data.Character.name.userPreferred)+"",I,z,b,C,V,$,Q,H,ce,E,J,W,oe,te=((qe=(Fe=o[2])==null?void 0:Fe.data)==null?void 0:qe.pages[0].data.Character.favourites)+"",ve,xe,be,ke,Ce,ue,$e=Da((He=(ze=o[2])==null?void 0:ze.data)==null?void 0:He.pages[0].data.Character.description)+"",Be,R,we,Y,U,Ne,Z;s=new st({props:{src:(Qe=(Ke=o[2])==null?void 0:Ke.data)==null?void 0:Qe.pages[0].data.Character.image.large,alt:(Me=(Ge=o[2])==null?void 0:Ge.data)==null?void 0:Me.pages[0].data.Character.name.userPreferred}});let B=((Ye=(Re=o[2])==null?void 0:Re.data)==null?void 0:Ye.pages[0].data.Character.name.native)&&Sa(o),fe=(Xe=(Ue=o[2])==null?void 0:Ue.data)==null?void 0:Xe.pages[0].data.Character.name.alternative,P=[];for(let r=0;r<fe.length;r+=1)P[r]=xa(Aa(o,fe,r));let de=(Je=(je=o[2])==null?void 0:je.data)==null?void 0:Je.pages[0].data.Character.name.alternativeSpoiler,A=[];for(let r=0;r<de.length;r+=1)A[r]=Ba(Pa(o,de,r));H=new nt({props:{items:o[3],isSuccess:!0,align:"left",rounded:!0}}),H.$on("changeTab",o[4]);let N=((Ze=(We=o[2])==null?void 0:We.data)==null?void 0:Ze.pages[0].data.Character.dateOfBirth.month)&&Na(o),y=((aa=(ea=o[2])==null?void 0:ea.data)==null?void 0:aa.pages[0].data.Character.age)&&ya(o),T=((la=(ta=o[2])==null?void 0:ta.data)==null?void 0:la.pages[0].data.Character.gender)&&Ta(o),se=(sa=(ra=o[2])==null?void 0:ra.data)==null?void 0:sa.pages,w=[];for(let r=0;r<se.length;r+=1)w[r]=Oa(Ia(o,se,r));const Fa=r=>M(w[r],1,1,()=>{w[r]=null}),ye=[_t,ut,ht],le=[];function Te(r,u){return r[2].isLoading||r[2].isFetching||r[2].isFetchingNextPage?0:r[2].hasNextPage?1:2}return Y=Te(o),U=le[Y]=ye[Y](o),{c(){e=g("div"),l=S(),t=g("div"),a=g("div"),Ve(s.$$.fragment),i=S(),c=g("div"),n=g("div"),h=g("h1"),I=O(v),z=S(),b=g("div"),B&&B.c(),C=S();for(let r=0;r<P.length;r+=1)P[r].c();V=S();for(let r=0;r<A.length;r+=1)A[r].c();$=S(),Q=g("div"),Ve(H.$$.fragment),ce=S(),E=g("div"),J=g("div"),W=g("span"),oe=O("Favourites:"),ve=O(te),xe=S(),N&&N.c(),be=S(),y&&y.c(),ke=S(),T&&T.c(),Ce=S(),ue=new Ra(!1),Be=S(),R=g("div");for(let r=0;r<w.length;r+=1)w[r].c();we=S(),U.c(),this.h()},l(r){e=m(r,"DIV",{class:!0}),p(e).forEach(d),l=x(r),t=m(r,"DIV",{class:!0});var u=p(t);a=m(u,"DIV",{class:!0});var D=p(a);Pe(s.$$.fragment,D),D.forEach(d),i=x(u),c=m(u,"DIV",{class:!0});var X=p(c);n=m(X,"DIV",{class:!0});var ne=p(n);h=m(ne,"H1",{class:!0});var _e=p(h);I=F(_e,v),_e.forEach(d),z=x(ne),b=m(ne,"DIV",{class:!0});var ee=p(b);B&&B.l(ee),C=x(ee);for(let K=0;K<P.length;K+=1)P[K].l(ee);V=x(ee);for(let K=0;K<A.length;K+=1)A[K].l(ee);ee.forEach(d),ne.forEach(d),$=x(X),Q=m(X,"DIV",{class:!0});var ge=p(Q);Pe(H.$$.fragment,ge),ge.forEach(d),ce=x(X),E=m(X,"DIV",{class:!0});var G=p(E);J=m(G,"DIV",{});var he=p(J);W=m(he,"SPAN",{class:!0});var me=p(W);oe=F(me,"Favourites:"),me.forEach(d),ve=F(he,te),he.forEach(d),xe=x(G),N&&N.l(G),be=x(G),y&&y.l(G),ke=x(G),T&&T.l(G),Ce=x(G),ue=Ya(G,!1),G.forEach(d),Be=x(X),R=m(X,"DIV",{class:!0});var ie=p(R);for(let K=0;K<w.length;K+=1)w[K].l(ie);we=x(ie),U.l(ie),ie.forEach(d),X.forEach(d),u.forEach(d),this.h()},h(){var r,u;k(e,"class","fixed inset-0 blur-3xl bg-cover bg-center bg-no-repeat opacity-10 -z-10"),wa(e,"background-image",`url("${(u=(r=o[2])==null?void 0:r.data)==null?void 0:u.pages[0].data.Character.image.large}")`),k(a,"class","w-52 h-52 shrink-0 mx-auto rounded-full overflow-hidden"),k(h,"class","text-2xl md:text-4xl font-bold font-lexenddeca max-w-full break-words"),k(b,"class","text-sm md:text-base"),k(n,"class","w-full flex flex-col items-center lg:items-start gap-y-2"),k(Q,"class","sticky top-14 z-10"),k(W,"class","mr-2"),ue.a=null,k(E,"class","flex flex-col"),Ee(E,"hidden",o[0]!=="about"),k(R,"class","flex flex-col gap-2 overflow-hidden"),Ee(R,"hidden",o[0]!=="media"),k(c,"class","w-full flex flex-col gap-6 lg:mt-4 overflow-hidden"),k(t,"class","w-full xl:max-w-5xl 3xl:max-w-6xl flex flex-col lg:flex-row gap-6 p-4 mx-auto")},m(r,u){q(r,e,u),q(r,l,u),q(r,t,u),f(t,a),Ae(s,a,null),f(t,i),f(t,c),f(c,n),f(n,h),f(h,I),f(n,z),f(n,b),B&&B.m(b,null),f(b,C);for(let D=0;D<P.length;D+=1)P[D]&&P[D].m(b,null);f(b,V);for(let D=0;D<A.length;D+=1)A[D]&&A[D].m(b,null);f(c,$),f(c,Q),Ae(H,Q,null),f(c,ce),f(c,E),f(E,J),f(J,W),f(W,oe),f(J,ve),f(E,xe),N&&N.m(E,null),f(E,be),y&&y.m(E,null),f(E,ke),T&&T.m(E,null),f(E,Ce),ue.m($e,E),f(c,Be),f(c,R);for(let D=0;D<w.length;D+=1)w[D]&&w[D].m(R,null);f(R,we),le[Y].m(R,null),Z=!0},p(r,u){var ne,_e,ee,ge,G,he,me,ie,K,na,ia,ca,oa,fa,da,ha,ua,_a,ga,ma,pa,va,ba,ka,Ca,$a;u&4&&wa(e,"background-image",`url("${(_e=(ne=r[2])==null?void 0:ne.data)==null?void 0:_e.pages[0].data.Character.image.large}")`);const D={};if(u&4&&(D.src=(ge=(ee=r[2])==null?void 0:ee.data)==null?void 0:ge.pages[0].data.Character.image.large),u&4&&(D.alt=(he=(G=r[2])==null?void 0:G.data)==null?void 0:he.pages[0].data.Character.name.userPreferred),s.$set(D),(!Z||u&4)&&v!==(v=((ie=(me=r[2])==null?void 0:me.data)==null?void 0:ie.pages[0].data.Character.name.userPreferred)+"")&&ae(I,v),(na=(K=r[2])==null?void 0:K.data)!=null&&na.pages[0].data.Character.name.native?B?B.p(r,u):(B=Sa(r),B.c(),B.m(b,C)):B&&(B.d(1),B=null),u&4){fe=(ca=(ia=r[2])==null?void 0:ia.data)==null?void 0:ca.pages[0].data.Character.name.alternative;let _;for(_=0;_<fe.length;_+=1){const re=Aa(r,fe,_);P[_]?P[_].p(re,u):(P[_]=xa(re),P[_].c(),P[_].m(b,V))}for(;_<P.length;_+=1)P[_].d(1);P.length=fe.length}if(u&4){de=(fa=(oa=r[2])==null?void 0:oa.data)==null?void 0:fa.pages[0].data.Character.name.alternativeSpoiler;let _;for(_=0;_<de.length;_+=1){const re=Pa(r,de,_);A[_]?A[_].p(re,u):(A[_]=Ba(re),A[_].c(),A[_].m(b,null))}for(;_<A.length;_+=1)A[_].d(1);A.length=de.length}if((!Z||u&4)&&te!==(te=((ha=(da=r[2])==null?void 0:da.data)==null?void 0:ha.pages[0].data.Character.favourites)+"")&&ae(ve,te),(_a=(ua=r[2])==null?void 0:ua.data)!=null&&_a.pages[0].data.Character.dateOfBirth.month?N?N.p(r,u):(N=Na(r),N.c(),N.m(E,be)):N&&(N.d(1),N=null),(ma=(ga=r[2])==null?void 0:ga.data)!=null&&ma.pages[0].data.Character.age?y?y.p(r,u):(y=ya(r),y.c(),y.m(E,ke)):y&&(y.d(1),y=null),(va=(pa=r[2])==null?void 0:pa.data)!=null&&va.pages[0].data.Character.gender?T?T.p(r,u):(T=Ta(r),T.c(),T.m(E,Ce)):T&&(T.d(1),T=null),(!Z||u&4)&&$e!==($e=Da((ka=(ba=r[2])==null?void 0:ba.data)==null?void 0:ka.pages[0].data.Character.description)+"")&&ue.p($e),(!Z||u&1)&&Ee(E,"hidden",r[0]!=="about"),u&4){se=($a=(Ca=r[2])==null?void 0:Ca.data)==null?void 0:$a.pages;let _;for(_=0;_<se.length;_+=1){const re=Ia(r,se,_);w[_]?(w[_].p(re,u),L(w[_],1)):(w[_]=Oa(re),w[_].c(),L(w[_],1),w[_].m(R,we))}for(Ie(),_=se.length;_<w.length;_+=1)Fa(_);De()}let X=Y;Y=Te(r),Y===X?le[Y].p(r,u):(Ie(),M(le[X],1,1,()=>{le[X]=null}),De(),U=le[Y],U?U.p(r,u):(U=le[Y]=ye[Y](r),U.c()),L(U,1),U.m(R,null)),(!Z||u&1)&&Ee(R,"hidden",r[0]!=="media")},i(r){if(!Z){L(s.$$.fragment,r),L(H.$$.fragment,r);for(let u=0;u<se.length;u+=1)L(w[u]);L(U),Ne||Ua(()=>{Ne=Xa(t,rt,{}),Ne.start()}),Z=!0}},o(r){M(s.$$.fragment,r),M(H.$$.fragment,r),w=w.filter(Boolean);for(let u=0;u<w.length;u+=1)M(w[u]);M(U),Z=!1},d(r){r&&d(e),r&&d(l),r&&d(t),Se(s),B&&B.d(),pe(P,r),pe(A,r),Se(H),N&&N.d(),y&&y.d(),T&&T.d(),pe(w,r),le[Y].d()}}}function Sa(o){var a,s;let e,l=((s=(a=o[2])==null?void 0:a.data)==null?void 0:s.pages[0].data.Character.name.native)+"",t;return{c(){e=g("span"),t=O(l),this.h()},l(i){e=m(i,"SPAN",{class:!0});var c=p(e);t=F(c,l),c.forEach(d),this.h()},h(){k(e,"class","last:after:content-[''] after:content-[',_']")},m(i,c){q(i,e,c),f(e,t)},p(i,c){var n,h;c&4&&l!==(l=((h=(n=i[2])==null?void 0:n.data)==null?void 0:h.pages[0].data.Character.name.native)+"")&&ae(t,l)},d(i){i&&d(e)}}}function xa(o){let e,l=o[22]+"",t;return{c(){e=g("span"),t=O(l),this.h()},l(a){e=m(a,"SPAN",{class:!0});var s=p(e);t=F(s,l),s.forEach(d),this.h()},h(){k(e,"class","last:after:content-[''] after:content-[',_']")},m(a,s){q(a,e,s),f(e,t)},p(a,s){s&4&&l!==(l=a[22]+"")&&ae(t,l)},d(a){a&&d(e)}}}function Ba(o){let e,l=o[19]+"",t;return{c(){e=g("span"),t=O(l),this.h()},l(a){e=m(a,"SPAN",{class:!0});var s=p(e);t=F(s,l),s.forEach(d),this.h()},h(){k(e,"class","last:after:content-[''] after:content-[',_'] font-medium")},m(a,s){q(a,e,s),f(e,t)},p(a,s){s&4&&l!==(l=a[19]+"")&&ae(t,l)},d(a){a&&d(e)}}}function Na(o){var h,v,I,z;let e,l,t,a=((v=(h=o[2])==null?void 0:h.data)==null?void 0:v.pages[0].data.Character.dateOfBirth.day)+"",s,i,c=((z=(I=o[2])==null?void 0:I.data)==null?void 0:z.pages[0].data.Character.dateOfBirth.month)+"",n;return{c(){e=g("div"),l=g("span"),t=O("Birthday:"),s=O(a),i=O("/"),n=O(c),this.h()},l(b){e=m(b,"DIV",{});var C=p(e);l=m(C,"SPAN",{class:!0});var V=p(l);t=F(V,"Birthday:"),V.forEach(d),s=F(C,a),i=F(C,"/"),n=F(C,c),C.forEach(d),this.h()},h(){k(l,"class","mr-2")},m(b,C){q(b,e,C),f(e,l),f(l,t),f(e,s),f(e,i),f(e,n)},p(b,C){var V,$,Q,H;C&4&&a!==(a=(($=(V=b[2])==null?void 0:V.data)==null?void 0:$.pages[0].data.Character.dateOfBirth.day)+"")&&ae(s,a),C&4&&c!==(c=((H=(Q=b[2])==null?void 0:Q.data)==null?void 0:H.pages[0].data.Character.dateOfBirth.month)+"")&&ae(n,c)},d(b){b&&d(e)}}}function ya(o){var i,c;let e,l,t,a=((c=(i=o[2])==null?void 0:i.data)==null?void 0:c.pages[0].data.Character.age)+"",s;return{c(){e=g("div"),l=g("span"),t=O("Age:"),s=O(a),this.h()},l(n){e=m(n,"DIV",{});var h=p(e);l=m(h,"SPAN",{class:!0});var v=p(l);t=F(v,"Age:"),v.forEach(d),s=F(h,a),h.forEach(d),this.h()},h(){k(l,"class","mr-2")},m(n,h){q(n,e,h),f(e,l),f(l,t),f(e,s)},p(n,h){var v,I;h&4&&a!==(a=((I=(v=n[2])==null?void 0:v.data)==null?void 0:I.pages[0].data.Character.age)+"")&&ae(s,a)},d(n){n&&d(e)}}}function Ta(o){var i,c;let e,l,t,a=((c=(i=o[2])==null?void 0:i.data)==null?void 0:c.pages[0].data.Character.gender)+"",s;return{c(){e=g("div"),l=g("span"),t=O("Gender:"),s=O(a),this.h()},l(n){e=m(n,"DIV",{});var h=p(e);l=m(h,"SPAN",{class:!0});var v=p(l);t=F(v,"Gender:"),v.forEach(d),s=F(h,a),h.forEach(d),this.h()},h(){k(l,"class","mr-2")},m(n,h){q(n,e,h),f(e,l),f(l,t),f(e,s)},p(n,h){var v,I;h&4&&a!==(a=((I=(v=n[2])==null?void 0:v.data)==null?void 0:I.pages[0].data.Character.gender)+"")&&ae(s,a)},d(n){n&&d(e)}}}function La(o){let e,l;return e=new it({props:{source:o[16]}}),{c(){Ve(e.$$.fragment)},l(t){Pe(e.$$.fragment,t)},m(t,a){Ae(e,t,a),l=!0},p(t,a){const s={};a&4&&(s.source=t[16]),e.$set(s)},i(t){l||(L(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Se(e,t)}}}function Oa(o){let e,l,t=o[13].data.Character.media.edges,a=[];for(let i=0;i<t.length;i+=1)a[i]=La(Va(o,t,i));const s=i=>M(a[i],1,1,()=>{a[i]=null});return{c(){for(let i=0;i<a.length;i+=1)a[i].c();e=Ea()},l(i){for(let c=0;c<a.length;c+=1)a[c].l(i);e=Ea()},m(i,c){for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(i,c);q(i,e,c),l=!0},p(i,c){if(c&4){t=i[13].data.Character.media.edges;let n;for(n=0;n<t.length;n+=1){const h=Va(i,t,n);a[n]?(a[n].p(h,c),L(a[n],1)):(a[n]=La(h),a[n].c(),L(a[n],1),a[n].m(e.parentNode,e))}for(Ie(),n=t.length;n<a.length;n+=1)s(n);De()}},i(i){if(!l){for(let c=0;c<t.length;c+=1)L(a[c]);l=!0}},o(i){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)M(a[c]);l=!1},d(i){pe(a,i),i&&d(e)}}}function ht(o){let e,l;return{c(){e=g("div"),l=O("Không còn kết quả nào!"),this.h()},l(t){e=m(t,"DIV",{class:!0});var a=p(e);l=F(a,"Không còn kết quả nào!"),a.forEach(d),this.h()},h(){k(e,"class","w-full text-center my-20")},m(t,a){q(t,e,a),f(e,l)},p:j,i:j,o:j,d(t){t&&d(e)}}}function ut(o){let e;return{c(){e=g("div"),this.h()},l(l){e=m(l,"DIV",{class:!0}),p(e).forEach(d),this.h()},h(){k(e,"class","w-full my-20")},m(l,t){q(l,e,t)},p:j,i:j,o:j,d(l){l&&d(e)}}}function _t(o){let e,l,t=Array(3),a=[];for(let s=0;s<t.length;s+=1)a[s]=gt(ot(o,t,s));return{c(){e=g("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=m(s,"DIV",{class:!0});var i=p(e);for(let c=0;c<a.length;c+=1)a[c].l(i);i.forEach(d),this.h()},h(){k(e,"class","w-full flex flex-col gap-2")},m(s,i){q(s,e,i);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);l=!0},p:j,i(s){if(!l){for(let i=0;i<t.length;i+=1)L(a[i]);l=!0}},o(s){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)M(a[i]);l=!1},d(s){s&&d(e),pe(a,s)}}}function gt(o){let e,l;return e=new ct({}),{c(){Ve(e.$$.fragment)},l(t){Pe(e.$$.fragment,t)},m(t,a){Ae(e,t,a),l=!0},i(t){l||(L(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){Se(e,t)}}}function mt(o){let e,l,t,a;const s=[dt,ft],i=[];function c(n,h){return n[2].isSuccess?0:1}return l=c(o),t=i[l]=s[l](o),{c(){e=g("div"),t.c(),this.h()},l(n){e=m(n,"DIV",{class:!0});var h=p(e);t.l(h),h.forEach(d),this.h()},h(){k(e,"class","w-full mt-20 mb-6 relative")},m(n,h){q(n,e,h),i[l].m(e,null),a=!0},p(n,[h]){let v=l;l=c(n),l===v?i[l].p(n,h):(Ie(),M(i[v],1,1,()=>{i[v]=null}),De(),t=i[l],t?t.p(n,h):(t=i[l]=s[l](n),t.c()),L(t,1),t.m(e,null))},i(n){a||(L(t),a=!0)},o(n){M(t),a=!1},d(n){n&&d(e),i[l].d()}}}function pt(o,e,l){var V;let t,a,s=j,i=()=>(s(),s=Ma(t,$=>l(2,a=$)),t),c;Ka(o,ja,$=>l(5,c=$)),o.$$.on_destroy.push(()=>s());const n=[{key:"about",path:"about",name:"About",isActive:!0},{key:"media",path:"anime-manga",name:"Anime/Manga",isActive:!1}];let h=(V=n.find($=>$.isActive))==null?void 0:V.key,v=c.params.urlCharacter;const I=Ja(v),z={id:I,sort:["POPULARITY_DESC"]},b=Wa(()=>{et()&&!(a.isLoading||a.isFetching||a.isFetchingNextPage)&&a.fetchNextPage()},100);Qa(()=>{window.addEventListener("scroll",b)}),Ga(()=>{window.removeEventListener("scroll",b)});const C=$=>{l(0,h=$.detail)};return i(l(1,t=lt(["character",I],({pageParam:$=1})=>Za(tt,{query:at,variables:{...z,page:$}}),{getNextPageParam:$=>{var Q,H,ce,E,J,W,oe,te;if((E=(ce=(H=(Q=$.data)==null?void 0:Q.Character)==null?void 0:H.media)==null?void 0:ce.pageInfo)!=null&&E.hasNextPage)return((te=(oe=(W=(J=$.data)==null?void 0:J.Character)==null?void 0:W.media)==null?void 0:oe.pageInfo)==null?void 0:te.currentPage)+1}}))),[h,t,a,n,C]}class Pt extends qa{constructor(e){super(),za(this,e,pt,mt,Ha,{})}}export{Pt as default};
