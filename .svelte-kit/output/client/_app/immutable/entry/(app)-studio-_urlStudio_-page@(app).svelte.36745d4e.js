import{S as K,i as M,s as z,k as S,l as $,m as p,h as d,n as h,b as w,g,C as y,q as F,a as V,P as R,r as Q,c as P,Q as U,L as b,u as X,X as te,Y as se,e as N,v as B,d as k,f as C,V as O,y as A,z as j,A as q,B as T,O as ae,o as ne,K as ce,D as oe}from"../chunks/index.28a8b093.js";import{p as fe}from"../chunks/stores.d60c0cff.js";import{a as Y,g as ue,b as de,f as _e,i as ge}from"../chunks/index.f1452f32.js";import{k as he,b as me}from"../chunks/aniList.16789991.js";import{c as pe}from"../chunks/createInfiniteQuery.54db7b9a.js";import{f as le}from"../chunks/index.6e5fca10.js";import{C as ie}from"../chunks/CardVertical.36f9358d.js";function ve(c){let e,l,i=c[2].name+"",s,a,t,n,r,f,u,m,v=c[2].favourites+"",x;return{c(){e=S("div"),l=S("h2"),s=F(i),t=V(),n=S("div"),r=R("svg"),f=R("path"),u=V(),m=S("span"),x=F(v),this.h()},l(o){e=$(o,"DIV",{class:!0});var _=p(e);l=$(_,"H2",{class:!0});var L=p(l);s=Q(L,i),L.forEach(d),t=P(_),n=$(_,"DIV",{class:!0});var D=p(n);r=U(D,"svg",{xmlns:!0,viewBox:!0,class:!0});var E=p(r);f=U(E,"path",{d:!0}),p(f).forEach(d),E.forEach(d),u=P(D),m=$(D,"SPAN",{class:!0});var I=p(m);x=Q(I,v),I.forEach(d),D.forEach(d),_.forEach(d),this.h()},h(){h(l,"class","font-medium text-3xl"),h(f,"d","M20.205 4.791a5.938 5.938 0 0 0-4.209-1.754A5.906 5.906 0 0 0 12 4.595a5.904 5.904 0 0 0-3.996-1.558 5.942 5.942 0 0 0-4.213 1.758c-2.353 2.363-2.352 6.059.002 8.412L12 21.414l8.207-8.207c2.354-2.353 2.355-6.049-.002-8.416z"),h(r,"xmlns","http://www.w3.org/2000/svg"),h(r,"viewBox","0 0 24 24"),h(r,"class","fill-current w-5 h-5"),h(m,"class","ml-2 font-medium"),h(n,"class","bg-rose-500 py-1 px-3 rounded-lg inline-flex items-center"),h(e,"class","w-full flex gap-x-4 justify-center items-center bg-neutral-900 p-4 md:p-8")},m(o,_){w(o,e,_),b(e,l),b(l,s),b(e,t),b(e,n),b(n,r),b(r,f),b(n,u),b(n,m),b(m,x)},p(o,_){_&4&&i!==(i=o[2].name+"")&&X(s,i),_&4&&v!==(v=o[2].favourites+"")&&X(x,v)},i(o){a||te(()=>{a=se(l,le,{}),a.start()})},o:y,d(o){o&&d(e)}}}function be(c){let e,l,i,s;return{c(){e=S("div"),l=S("div"),i=V(),s=S("div"),this.h()},l(a){e=$(a,"DIV",{class:!0});var t=p(e);l=$(t,"DIV",{class:!0}),p(l).forEach(d),i=P(t),s=$(t,"DIV",{class:!0}),p(s).forEach(d),t.forEach(d),this.h()},h(){h(l,"class","w-56 h-10 bg-neutral-800 rounded"),h(s,"class","w-24 h-10 bg-neutral-800 rounded"),h(e,"class","w-full flex gap-x-4 justify-center items-center bg-neutral-900 p-4 md:p-8 animate-pulse")},m(a,t){w(a,e,t),b(e,l),b(e,i),b(e,s)},p:y,i:y,o:y,d(a){a&&d(e)}}}function ke(c){let e;function l(a,t){if(a[0])return be;if(a[1])return ve}let i=l(c),s=i&&i(c);return{c(){e=S("div"),s&&s.c(),this.h()},l(a){e=$(a,"DIV",{class:!0});var t=p(e);s&&s.l(t),t.forEach(d),this.h()},h(){h(e,"class","w-full flex flex-col gap-8 justify-center mt-20 mb-6")},m(a,t){w(a,e,t),s&&s.m(e,null)},p(a,[t]){i===(i=l(a))&&s?s.p(a,t):(s&&s.d(1),s=i&&i(a),s&&(s.c(),g(s,1),s.m(e,null)))},i(a){g(s)},o:y,d(a){a&&d(e),s&&s.d()}}}function Se(c,e,l){let{isLoading:i=!0}=e,{isSuccess:s=!1}=e,{source:a=[]}=e;return c.$$set=t=>{"isLoading"in t&&l(0,i=t.isLoading),"isSuccess"in t&&l(1,s=t.isSuccess),"source"in t&&l(2,a=t.source)},[i,s,a]}class $e extends K{constructor(e){super(),M(this,e,Se,ke,z,{isLoading:0,isSuccess:1,source:2})}}function we(c,e,l){const i=c.slice();return i[6]=e[l],i}function G(c,e,l){const i=c.slice();return i[3]=e[l],i[5]=l,i}function ye(c){let e,l,i,s=Array(9),a=[];for(let t=0;t<s.length;t+=1)a[t]=De(we(c,s,t));return{c(){e=S("div"),l=S("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=$(t,"DIV",{class:!0});var n=p(e);l=$(n,"DIV",{class:!0});var r=p(l);for(let f=0;f<a.length;f+=1)a[f].l(r);r.forEach(d),n.forEach(d),this.h()},h(){h(l,"class","w-full grid grid-cols-12 gap-x-1.5 sm:gap-x-2.5 gap-y-0 md:grid-cols-5 md:gap-2 lg:md:gap-3 2xl:grid-cols-7 2xl:gap-3 3xl:grid-cols-9 3xl:gap-4"),h(e,"class","flex justify-center py-2 lg:py-4 px-2 md:px-6 lg:px-8")},m(t,n){w(t,e,n),b(e,l);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(l,null);i=!0},p:y,i(t){if(!i){for(let n=0;n<s.length;n+=1)g(a[n]);i=!0}},o(t){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)k(a[n]);i=!1},d(t){t&&d(e),O(a,t)}}}function xe(c){let e,l,i,s,a=c[2],t=[];for(let r=0;r<a.length;r+=1)t[r]=J(G(c,a,r));const n=r=>k(t[r],1,1,()=>{t[r]=null});return{c(){e=S("div"),l=S("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=$(r,"DIV",{class:!0});var f=p(e);l=$(f,"DIV",{class:!0});var u=p(l);for(let m=0;m<t.length;m+=1)t[m].l(u);u.forEach(d),f.forEach(d),this.h()},h(){h(l,"class","w-full grid grid-cols-12 gap-x-1.5 sm:gap-x-2.5 gap-y-0 md:grid-cols-5 md:gap-2 lg:md:gap-3 2xl:grid-cols-7 2xl:gap-3 3xl:grid-cols-9 3xl:gap-4"),h(e,"class","flex justify-center py-2 lg:py-4 px-2 md:px-6 lg:px-8")},m(r,f){w(r,e,f),b(e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(l,null);s=!0},p(r,f){if(f&4){a=r[2];let u;for(u=0;u<a.length;u+=1){const m=G(r,a,u);t[u]?(t[u].p(m,f),g(t[u],1)):(t[u]=J(m),t[u].c(),g(t[u],1),t[u].m(l,null))}for(B(),u=a.length;u<t.length;u+=1)n(u);C()}},i(r){if(!s){for(let f=0;f<a.length;f+=1)g(t[f]);i||te(()=>{i=se(e,le,{}),i.start()}),s=!0}},o(r){t=t.filter(Boolean);for(let f=0;f<t.length;f+=1)k(t[f]);s=!1},d(r){r&&d(e),O(t,r)}}}function De(c){let e,l,i,s;return l=new ie({}),{c(){e=S("div"),A(l.$$.fragment),i=V(),this.h()},l(a){e=$(a,"DIV",{class:!0});var t=p(e);j(l.$$.fragment,t),i=P(t),t.forEach(d),this.h()},h(){h(e,"class","col-span-4 md:col-span-1 2xl:col-span-1")},m(a,t){w(a,e,t),q(l,e,null),b(e,i),s=!0},p:y,i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){k(l.$$.fragment,a),s=!1},d(a){a&&d(e),T(l)}}}function J(c){let e,l,i,s;return l=new ie({props:{isLoading:!1,source:c[3].node,to:`/${c[3].node.type.toLowerCase()}/details/${Y(c[3].node.title.userPreferred)}-an${c[3].node.id}`}}),{c(){e=S("div"),A(l.$$.fragment),i=V(),this.h()},l(a){e=$(a,"DIV",{class:!0});var t=p(e);j(l.$$.fragment,t),i=P(t),t.forEach(d),this.h()},h(){h(e,"class","col-span-4 md:col-span-1 2xl:col-span-1")},m(a,t){w(a,e,t),q(l,e,null),b(e,i),s=!0},p(a,t){const n={};t&4&&(n.source=a[3].node),t&4&&(n.to=`/${a[3].node.type.toLowerCase()}/details/${Y(a[3].node.title.userPreferred)}-an${a[3].node.id}`),l.$set(n)},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){k(l.$$.fragment,a),s=!1},d(a){a&&d(e),T(l)}}}function Le(c){let e,l,i,s;const a=[xe,ye],t=[];function n(r,f){return r[1]&&r[2].length?0:r[0]?1:-1}return~(e=n(c))&&(l=t[e]=a[e](c)),{c(){l&&l.c(),i=N()},l(r){l&&l.l(r),i=N()},m(r,f){~e&&t[e].m(r,f),w(r,i,f),s=!0},p(r,[f]){let u=e;e=n(r),e===u?~e&&t[e].p(r,f):(l&&(B(),k(t[u],1,1,()=>{t[u]=null}),C()),~e?(l=t[e],l?l.p(r,f):(l=t[e]=a[e](r),l.c()),g(l,1),l.m(i.parentNode,i)):l=null)},i(r){s||(g(l),s=!0)},o(r){k(l),s=!1},d(r){~e&&t[e].d(r),r&&d(i)}}}function Ee(c,e,l){let{isLoading:i=!0}=e,{isSuccess:s=!1}=e,{source:a=[]}=e;return c.$$set=t=>{"isLoading"in t&&l(0,i=t.isLoading),"isSuccess"in t&&l(1,s=t.isSuccess),"source"in t&&l(2,a=t.source)},[i,s,a]}class re extends K{constructor(e){super(),M(this,e,Ee,Le,z,{isLoading:0,isSuccess:1,source:2})}}function W(c,e,l){const i=c.slice();return i[7]=e[l],i}function Z(c){let e,l,i=c[1].data.pages,s=[];for(let t=0;t<i.length;t+=1)s[t]=ee(W(c,i,t));const a=t=>k(s[t],1,1,()=>{s[t]=null});return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=N()},l(t){for(let n=0;n<s.length;n+=1)s[n].l(t);e=N()},m(t,n){for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(t,n);w(t,e,n),l=!0},p(t,n){if(n&2){i=t[1].data.pages;let r;for(r=0;r<i.length;r+=1){const f=W(t,i,r);s[r]?(s[r].p(f,n),g(s[r],1)):(s[r]=ee(f),s[r].c(),g(s[r],1),s[r].m(e.parentNode,e))}for(B(),r=i.length;r<s.length;r+=1)a(r);C()}},i(t){if(!l){for(let n=0;n<i.length;n+=1)g(s[n]);l=!0}},o(t){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)k(s[n]);l=!1},d(t){O(s,t),t&&d(e)}}}function ee(c){let e,l;return e=new re({props:{isLoading:!1,isSuccess:c[1].isSuccess,source:c[7].data.Studio.media.edges}}),{c(){A(e.$$.fragment)},l(i){j(e.$$.fragment,i)},m(i,s){q(e,i,s),l=!0},p(i,s){const a={};s&2&&(a.isSuccess=i[1].isSuccess),s&2&&(a.source=i[7].data.Studio.media.edges),e.$set(a)},i(i){l||(g(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){T(e,i)}}}function Ie(c){let e,l;return{c(){e=S("div"),l=F("Không còn kết quả nào!"),this.h()},l(i){e=$(i,"DIV",{class:!0});var s=p(e);l=Q(s,"Không còn kết quả nào!"),s.forEach(d),this.h()},h(){h(e,"class","w-full text-center my-20")},m(i,s){w(i,e,s),b(e,l)},i:y,o:y,d(i){i&&d(e)}}}function Ve(c){let e;return{c(){e=S("div"),this.h()},l(l){e=$(l,"DIV",{class:!0}),p(e).forEach(d),this.h()},h(){h(e,"class","h-[calc(130vh/2)] w-full")},m(l,i){w(l,e,i)},i:y,o:y,d(l){l&&d(e)}}}function Pe(c){let e,l;return e=new re({}),{c(){A(e.$$.fragment)},l(i){j(e.$$.fragment,i)},m(i,s){q(e,i,s),l=!0},i(i){l||(g(e.$$.fragment,i),l=!0)},o(i){k(e.$$.fragment,i),l=!1},d(i){T(e,i)}}}function Ne(c){var v,x;let e,l,i,s,a,t,n;e=new $e({props:{isLoading:c[1].isLoading,isSuccess:c[1].isSuccess,source:(x=(v=c[1])==null?void 0:v.data)==null?void 0:x.pages[0].data.Studio}});let r=c[1].isSuccess&&Z(c);const f=[Pe,Ve,Ie],u=[];function m(o,_){return o[1].isLoading||o[1].isFetching||o[1].isFetchingNextPage?0:o[1].hasNextPage?1:2}return s=m(c),a=u[s]=f[s](c),{c(){A(e.$$.fragment),l=V(),r&&r.c(),i=V(),a.c(),t=N()},l(o){j(e.$$.fragment,o),l=P(o),r&&r.l(o),i=P(o),a.l(o),t=N()},m(o,_){q(e,o,_),w(o,l,_),r&&r.m(o,_),w(o,i,_),u[s].m(o,_),w(o,t,_),n=!0},p(o,[_]){var E,I;const L={};_&2&&(L.isLoading=o[1].isLoading),_&2&&(L.isSuccess=o[1].isSuccess),_&2&&(L.source=(I=(E=o[1])==null?void 0:E.data)==null?void 0:I.pages[0].data.Studio),e.$set(L),o[1].isSuccess?r?(r.p(o,_),_&2&&g(r,1)):(r=Z(o),r.c(),g(r,1),r.m(i.parentNode,i)):r&&(B(),k(r,1,1,()=>{r=null}),C());let D=s;s=m(o),s!==D&&(B(),k(u[D],1,1,()=>{u[D]=null}),C(),a=u[s],a||(a=u[s]=f[s](o),a.c()),g(a,1),a.m(t.parentNode,t))},i(o){n||(g(e.$$.fragment,o),g(r),g(a),n=!0)},o(o){k(e.$$.fragment,o),k(r),k(a),n=!1},d(o){T(e,o),o&&d(l),r&&r.d(o),o&&d(i),u[s].d(o),o&&d(t)}}}function Be(c,e,l){let i,s,a=y,t=()=>(a(),a=oe(i,v=>l(1,s=v)),i),n;ae(c,fe,v=>l(2,n=v)),c.$$.on_destroy.push(()=>a());let r=n.params.urlStudio;const f=ue(r),u={id:f,sort:["START_DATE_DESC"]},m=de(()=>{ge()&&!(s.isLoading||s.isFetching||s.isFetchingNextPage)&&s.fetchNextPage()},100);return ne(()=>{window.addEventListener("scroll",m)}),ce(()=>{window.removeEventListener("scroll",m)}),t(l(0,i=pe(["studio",f],({pageParam:v=1})=>_e(me,{query:he,variables:{...u,page:v}}),{getNextPageParam:v=>{var x,o,_,L,D,E,I,H;if((L=(_=(o=(x=v.data)==null?void 0:x.Studio)==null?void 0:o.media)==null?void 0:_.pageInfo)!=null&&L.hasNextPage)return((H=(I=(E=(D=v.data)==null?void 0:D.Studio)==null?void 0:E.media)==null?void 0:I.pageInfo)==null?void 0:H.currentPage)+1}}))),[i,s]}class Ke extends K{constructor(e){super(),M(this,e,Be,Ne,z,{})}}export{Ke as default};
